"use strict";(self.webpackChunkbento=self.webpackChunkbento||[]).push([[1929],{45889:function(e,n,s){s.r(n),s.d(n,{assets:function(){return d},contentTitle:function(){return c},default:function(){return p},frontMatter:function(){return l},metadata:function(){return a},toc:function(){return h}});var t=s(85893),i=s(11151),o=s(74866),r=s(85162);const l={title:"aws_s3",slug:"aws_s3",type:"input",status:"stable",categories:["Services","AWS"],name:"aws_s3"},c=void 0,a={id:"components/inputs/aws_s3",title:"aws_s3",description:"\x3c!--",source:"@site/docs/components/inputs/aws_s3.md",sourceDirName:"components/inputs",slug:"/components/inputs/aws_s3",permalink:"/docs/components/inputs/aws_s3",draft:!1,unlisted:!1,editUrl:"https://github.com/warpstreamlabs/bento/edit/main/website/docs/components/inputs/aws_s3.md",tags:[],version:"current",frontMatter:{title:"aws_s3",slug:"aws_s3",type:"input",status:"stable",categories:["Services","AWS"],name:"aws_s3"},sidebar:"docs",previous:{title:"aws_kinesis",permalink:"/docs/components/inputs/aws_kinesis"},next:{title:"aws_sqs",permalink:"/docs/components/inputs/aws_sqs"}},d={},h=[{value:"Streaming Objects on Upload with SQS",id:"streaming-objects-on-upload-with-sqs",level:2},{value:"Downloading Large Files",id:"downloading-large-files",level:2},{value:"Credentials",id:"credentials",level:2},{value:"Metadata",id:"metadata",level:2},{value:"Fields",id:"fields",level:2},{value:"<code>bucket</code>",id:"bucket",level:3},{value:"<code>prefix</code>",id:"prefix",level:3},{value:"<code>region</code>",id:"region",level:3},{value:"<code>endpoint</code>",id:"endpoint",level:3},{value:"<code>credentials</code>",id:"credentials-1",level:3},{value:"<code>credentials.profile</code>",id:"credentialsprofile",level:3},{value:"<code>credentials.id</code>",id:"credentialsid",level:3},{value:"<code>credentials.secret</code>",id:"credentialssecret",level:3},{value:"<code>credentials.token</code>",id:"credentialstoken",level:3},{value:"<code>credentials.from_ec2_role</code>",id:"credentialsfrom_ec2_role",level:3},{value:"<code>credentials.role</code>",id:"credentialsrole",level:3},{value:"<code>credentials.role_external_id</code>",id:"credentialsrole_external_id",level:3},{value:"<code>force_path_style_urls</code>",id:"force_path_style_urls",level:3},{value:"<code>delete_objects</code>",id:"delete_objects",level:3},{value:"<code>scanner</code>",id:"scanner",level:3},{value:"<code>sqs</code>",id:"sqs",level:3},{value:"<code>sqs.url</code>",id:"sqsurl",level:3},{value:"<code>sqs.endpoint</code>",id:"sqsendpoint",level:3},{value:"<code>sqs.key_path</code>",id:"sqskey_path",level:3},{value:"<code>sqs.bucket_path</code>",id:"sqsbucket_path",level:3},{value:"<code>sqs.envelope_path</code>",id:"sqsenvelope_path",level:3},{value:"<code>sqs.delay_period</code>",id:"sqsdelay_period",level:3},{value:"<code>sqs.max_messages</code>",id:"sqsmax_messages",level:3},{value:"<code>sqs.wait_time_seconds</code>",id:"sqswait_time_seconds",level:3}];function u(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Downloads objects within an Amazon S3 bucket, optionally filtered by a prefix, either by walking the items in the bucket or by streaming upload notifications in realtime."}),"\n",(0,t.jsxs)(o.Z,{defaultValue:"common",values:[{label:"Common",value:"common"},{label:"Advanced",value:"advanced"}],children:[(0,t.jsx)(r.Z,{value:"common",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yml",children:'# Common config fields, showing default values\ninput:\n  label: ""\n  aws_s3:\n    bucket: ""\n    prefix: ""\n    scanner:\n      to_the_end: {}\n    sqs:\n      url: ""\n      key_path: Records.*.s3.object.key\n      bucket_path: Records.*.s3.bucket.name\n      envelope_path: ""\n'})})}),(0,t.jsx)(r.Z,{value:"advanced",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yml",children:'# All config fields, showing default values\ninput:\n  label: ""\n  aws_s3:\n    bucket: ""\n    prefix: ""\n    region: ""\n    endpoint: ""\n    credentials:\n      profile: ""\n      id: ""\n      secret: ""\n      token: ""\n      from_ec2_role: false\n      role: ""\n      role_external_id: ""\n    force_path_style_urls: false\n    delete_objects: false\n    scanner:\n      to_the_end: {}\n    sqs:\n      url: ""\n      endpoint: ""\n      key_path: Records.*.s3.object.key\n      bucket_path: Records.*.s3.bucket.name\n      envelope_path: ""\n      delay_period: ""\n      max_messages: 10\n      wait_time_seconds: 0\n'})})})]}),"\n",(0,t.jsx)(n.h2,{id:"streaming-objects-on-upload-with-sqs",children:"Streaming Objects on Upload with SQS"}),"\n",(0,t.jsxs)(n.p,{children:["A common pattern for consuming S3 objects is to emit upload notification events from the bucket either directly to an SQS queue, or to an SNS topic that is consumed by an SQS queue, and then have your consumer listen for events which prompt it to download the newly uploaded objects. More information about this pattern and how to set it up can be found at: ",(0,t.jsx)(n.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/dev/ways-to-add-notification-config-to-bucket.html",children:"https://docs.aws.amazon.com/AmazonS3/latest/dev/ways-to-add-notification-config-to-bucket.html"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Bento is able to follow this pattern when you configure an ",(0,t.jsx)(n.code,{children:"sqs.url"}),", where it consumes events from SQS and only downloads object keys received within those events. In order for this to work Bento needs to know where within the event the key and bucket names can be found, specified as ",(0,t.jsx)(n.a,{href:"/docs/configuration/field_paths",children:"dot paths"})," with the fields ",(0,t.jsx)(n.code,{children:"sqs.key_path"})," and ",(0,t.jsx)(n.code,{children:"sqs.bucket_path"}),". The default values for these fields should already be correct when following the guide above."]}),"\n",(0,t.jsxs)(n.p,{children:["If your notification events are being routed to SQS via an SNS topic then the events will be enveloped by SNS, in which case you also need to specify the field ",(0,t.jsx)(n.code,{children:"sqs.envelope_path"}),", which in the case of SNS to SQS will usually be ",(0,t.jsx)(n.code,{children:"Message"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["When using SQS please make sure you have sensible values for ",(0,t.jsx)(n.code,{children:"sqs.max_messages"})," and also the visibility timeout of the queue itself. When Bento consumes an S3 object the SQS message that triggered it is not deleted until the S3 object has been sent onwards. This ensures at-least-once crash resiliency, but also means that if the S3 object takes longer to process than the visibility timeout of your queue then the same objects might be processed multiple times."]}),"\n",(0,t.jsx)(n.h2,{id:"downloading-large-files",children:"Downloading Large Files"}),"\n",(0,t.jsxs)(n.p,{children:["When downloading large files it's often necessary to process it in streamed parts in order to avoid loading the entire file in memory at a given time. In order to do this a ",(0,t.jsx)(n.a,{href:"#codec",children:(0,t.jsx)(n.code,{children:"codec"})})," can be specified that determines how to break the input into smaller individual messages."]}),"\n",(0,t.jsx)(n.h2,{id:"credentials",children:"Credentials"}),"\n",(0,t.jsxs)(n.p,{children:["By default Bento will use a shared credentials file when connecting to AWS services. It's also possible to set them explicitly at the component level, allowing you to transfer data across accounts. You can find out more ",(0,t.jsx)(n.a,{href:"/docs/guides/cloud/aws",children:"in this document"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"metadata",children:"Metadata"}),"\n",(0,t.jsx)(n.p,{children:"This input adds the following metadata fields to each message:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"- s3_key\n- s3_bucket\n- s3_last_modified_unix\n- s3_last_modified (RFC3339)\n- s3_content_type\n- s3_content_encoding\n- s3_version_id\n- All user defined metadata\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You can access these metadata fields using ",(0,t.jsx)(n.a,{href:"/docs/configuration/interpolation#bloblang-queries",children:"function interpolation"}),". Note that user defined metadata is case insensitive within AWS, and it is likely that the keys will be received in a capitalized form, if you wish to make them consistent you can map all metadata keys to lower or uppercase using a Bloblang mapping such as ",(0,t.jsx)(n.code,{children:"meta = meta().map_each_key(key -> key.lowercase())"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"fields",children:"Fields"}),"\n",(0,t.jsx)(n.h3,{id:"bucket",children:(0,t.jsx)(n.code,{children:"bucket"})}),"\n",(0,t.jsxs)(n.p,{children:["The bucket to consume from. If the field ",(0,t.jsx)(n.code,{children:"sqs.url"})," is specified this field is optional."]}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"prefix",children:(0,t.jsx)(n.code,{children:"prefix"})}),"\n",(0,t.jsx)(n.p,{children:"An optional path prefix, if set only objects with the prefix are consumed when walking a bucket."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"region",children:(0,t.jsx)(n.code,{children:"region"})}),"\n",(0,t.jsx)(n.p,{children:"The AWS region to target."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"endpoint",children:(0,t.jsx)(n.code,{children:"endpoint"})}),"\n",(0,t.jsx)(n.p,{children:"Allows you to specify a custom endpoint for the AWS API."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"credentials-1",children:(0,t.jsx)(n.code,{children:"credentials"})}),"\n",(0,t.jsxs)(n.p,{children:["Optional manual configuration of AWS credentials to use. More information can be found ",(0,t.jsx)(n.a,{href:"/docs/guides/cloud/aws",children:"in this document"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"object"})]}),"\n",(0,t.jsx)(n.h3,{id:"credentialsprofile",children:(0,t.jsx)(n.code,{children:"credentials.profile"})}),"\n",(0,t.jsxs)(n.p,{children:["A profile from ",(0,t.jsx)(n.code,{children:"~/.aws/credentials"})," to use."]}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"credentialsid",children:(0,t.jsx)(n.code,{children:"credentials.id"})}),"\n",(0,t.jsx)(n.p,{children:"The ID of credentials to use."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"credentialssecret",children:(0,t.jsx)(n.code,{children:"credentials.secret"})}),"\n",(0,t.jsx)(n.p,{children:"The secret for the credentials being used."}),"\n",(0,t.jsx)(n.admonition,{title:"Secret",type:"warning",children:(0,t.jsxs)(n.p,{children:["This field contains sensitive information that usually shouldn't be added to a config directly, read our ",(0,t.jsx)(n.a,{href:"/docs/configuration/secrets",children:"secrets page for more info"}),"."]})}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"credentialstoken",children:(0,t.jsx)(n.code,{children:"credentials.token"})}),"\n",(0,t.jsx)(n.p,{children:"The token for the credentials being used, required when using short term credentials."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"credentialsfrom_ec2_role",children:(0,t.jsx)(n.code,{children:"credentials.from_ec2_role"})}),"\n",(0,t.jsxs)(n.p,{children:["Use the credentials of a host EC2 machine configured to assume ",(0,t.jsx)(n.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2.html",children:"an IAM role associated with the instance"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"bool"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:"false"}),(0,t.jsx)(n.br,{}),"\n","Requires version 4.2.0 or newer"]}),"\n",(0,t.jsx)(n.h3,{id:"credentialsrole",children:(0,t.jsx)(n.code,{children:"credentials.role"})}),"\n",(0,t.jsx)(n.p,{children:"A role ARN to assume."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"credentialsrole_external_id",children:(0,t.jsx)(n.code,{children:"credentials.role_external_id"})}),"\n",(0,t.jsx)(n.p,{children:"An external ID to provide when assuming a role."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"force_path_style_urls",children:(0,t.jsx)(n.code,{children:"force_path_style_urls"})}),"\n",(0,t.jsx)(n.p,{children:"Forces the client API to use path style URLs for downloading keys, which is often required when connecting to custom endpoints."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"bool"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:"false"})]}),"\n",(0,t.jsx)(n.h3,{id:"delete_objects",children:(0,t.jsx)(n.code,{children:"delete_objects"})}),"\n",(0,t.jsx)(n.p,{children:"Whether to delete downloaded objects from the bucket once they are processed."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"bool"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:"false"})]}),"\n",(0,t.jsx)(n.h3,{id:"scanner",children:(0,t.jsx)(n.code,{children:"scanner"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.a,{href:"/docs/components/scanners/about",children:"scanner"})," by which the stream of bytes consumed will be broken out into individual messages. Scanners are useful for processing large sources of data without holding the entirety of it within memory. For example, the ",(0,t.jsx)(n.code,{children:"csv"})," scanner allows you to process individual CSV rows without loading the entire CSV file in memory at once."]}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"scanner"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'{"to_the_end":{}}'}),(0,t.jsx)(n.br,{}),"\n","Requires version 4.25.0 or newer"]}),"\n",(0,t.jsx)(n.h3,{id:"sqs",children:(0,t.jsx)(n.code,{children:"sqs"})}),"\n",(0,t.jsx)(n.p,{children:"Consume SQS messages in order to trigger key downloads."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"object"})]}),"\n",(0,t.jsx)(n.h3,{id:"sqsurl",children:(0,t.jsx)(n.code,{children:"sqs.url"})}),"\n",(0,t.jsx)(n.p,{children:"An optional SQS URL to connect to. When specified this queue will control which objects are downloaded."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"sqsendpoint",children:(0,t.jsx)(n.code,{children:"sqs.endpoint"})}),"\n",(0,t.jsx)(n.p,{children:"A custom endpoint to use when connecting to SQS."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.h3,{id:"sqskey_path",children:(0,t.jsx)(n.code,{children:"sqs.key_path"})}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.a,{href:"/docs/configuration/field_paths",children:"dot path"})," whereby object keys are found in SQS messages."]}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'"Records.*.s3.object.key"'})]}),"\n",(0,t.jsx)(n.h3,{id:"sqsbucket_path",children:(0,t.jsx)(n.code,{children:"sqs.bucket_path"})}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.a,{href:"/docs/configuration/field_paths",children:"dot path"})," whereby the bucket name can be found in SQS messages."]}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'"Records.*.s3.bucket.name"'})]}),"\n",(0,t.jsx)(n.h3,{id:"sqsenvelope_path",children:(0,t.jsx)(n.code,{children:"sqs.envelope_path"})}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.a,{href:"/docs/configuration/field_paths",children:"dot path"})," of a field to extract an enveloped JSON payload for further extracting the key and bucket from SQS messages. This is specifically useful when subscribing an SQS queue to an SNS topic that receives bucket events."]}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yml",children:"# Examples\n\nenvelope_path: Message\n"})}),"\n",(0,t.jsx)(n.h3,{id:"sqsdelay_period",children:(0,t.jsx)(n.code,{children:"sqs.delay_period"})}),"\n",(0,t.jsx)(n.p,{children:"An optional period of time to wait from when a notification was originally sent to when the target key download is attempted."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"string"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:'""'})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yml",children:"# Examples\n\ndelay_period: 10s\n\ndelay_period: 5m\n"})}),"\n",(0,t.jsx)(n.h3,{id:"sqsmax_messages",children:(0,t.jsx)(n.code,{children:"sqs.max_messages"})}),"\n",(0,t.jsx)(n.p,{children:"The maximum number of SQS messages to consume from each request."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"int"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:"10"})]}),"\n",(0,t.jsx)(n.h3,{id:"sqswait_time_seconds",children:(0,t.jsx)(n.code,{children:"sqs.wait_time_seconds"})}),"\n",(0,t.jsx)(n.p,{children:"Whether to set the wait time. Enabling this activates long-polling. Valid values: 0 to 20."}),"\n",(0,t.jsxs)(n.p,{children:["Type: ",(0,t.jsx)(n.code,{children:"int"}),(0,t.jsx)(n.br,{}),"\n","Default: ",(0,t.jsx)(n.code,{children:"0"})]})]})}function p(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},85162:function(e,n,s){s.d(n,{Z:function(){return r}});s(67294);var t=s(86010),i={tabItem:"tabItem_Ymn6"},o=s(85893);function r(e){let{children:n,hidden:s,className:r}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,t.Z)(i.tabItem,r),hidden:s,children:n})}},74866:function(e,n,s){s.d(n,{Z:function(){return _}});var t=s(67294),i=s(86010),o=s(12466),r=s(16550),l=s(20469),c=s(91980),a=s(67392),d=s(50012);function h(e){var n,s;return null!=(n=null==(s=t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:s.filter(Boolean))?n:[]}function u(e){const{values:n,children:s}=e;return(0,t.useMemo)((()=>{const e=null!=n?n:function(e){return h(e).map((e=>{let{props:{value:n,label:s,attributes:t,default:i}}=e;return{value:n,label:s,attributes:t,default:i}}))}(s);return function(e){const n=(0,a.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,s])}function p(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:s}=e;const i=(0,r.k6)(),o=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=s?s:null}({queryString:n,groupId:s});return[(0,c._X)(o),(0,t.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(i.location.search);n.set(o,e),i.replace({...i.location,search:n.toString()})}),[o,i])]}function x(e){const{defaultValue:n,queryString:s=!1,groupId:i}=e,o=u(e),[r,c]=(0,t.useState)((()=>function(e){var n;let{defaultValue:s,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(s){if(!p({value:s,tabValues:t}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+s+'" but none of its children has the corresponding value. Available values are: '+t.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return s}const i=null!=(n=t.find((e=>e.default)))?n:t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:o}))),[a,h]=f({queryString:s,groupId:i}),[x,j]=function(e){let{groupId:n}=e;const s=function(e){return e?"docusaurus.tab."+e:null}(n),[i,o]=(0,d.Nk)(s);return[i,(0,t.useCallback)((e=>{s&&o.set(e)}),[s,o])]}({groupId:i}),m=(()=>{const e=null!=a?a:x;return p({value:e,tabValues:o})?e:null})();(0,l.Z)((()=>{m&&c(m)}),[m]);return{selectedValue:r,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error("Can't select invalid tab value="+e);c(e),h(e),j(e)}),[h,j,o]),tabValues:o}}var j=s(72389),m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"},b=s(85893);function v(e){let{className:n,block:s,selectedValue:t,selectValue:r,tabValues:l}=e;const c=[],{blockElementScrollPositionUntilNextRender:a}=(0,o.o5)(),d=e=>{const n=e.currentTarget,s=c.indexOf(n),i=l[s].value;i!==t&&(a(n),r(i))},h=e=>{var n;let s=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var t;const n=c.indexOf(e.currentTarget)+1;s=null!=(t=c[n])?t:c[0];break}case"ArrowLeft":{var i;const n=c.indexOf(e.currentTarget)-1;s=null!=(i=c[n])?i:c[c.length-1];break}}null==(n=s)||n.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":s},n),children:l.map((e=>{let{value:n,label:s,attributes:o}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>c.push(e),onKeyDown:h,onClick:d,...o,className:(0,i.Z)("tabs__item",m.tabItem,null==o?void 0:o.className,{"tabs__item--active":t===n}),children:null!=s?s:n},n)}))})}function g(e){let{lazy:n,children:s,selectedValue:i}=e;const o=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===i));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function y(e){const n=x(e);return(0,b.jsxs)("div",{className:(0,i.Z)("tabs-container",m.tabList),children:[(0,b.jsx)(v,{...e,...n}),(0,b.jsx)(g,{...e,...n})]})}function _(e){const n=(0,j.Z)();return(0,b.jsx)(y,{...e,children:h(e.children)},String(n))}},11151:function(e,n,s){s.d(n,{Z:function(){return l},a:function(){return r}});var t=s(67294);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);